<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è´­ç‰©è½¦APIé›†æˆæµ‹è¯•æŒ‡å—</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            color: #333;
        }
        .header {
            background: linear-gradient(135deg, #6F87FF 0%, #5A6BF5 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 30px;
        }
        .test-section {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .test-case {
            background: white;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        .test-title {
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        .test-steps {
            background: #f1f3f4;
            padding: 12px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .expected {
            background: #e8f5e8;
            padding: 12px;
            border-radius: 4px;
            border-left: 4px solid #4CAF50;
            margin: 10px 0;
        }
        .api-info {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
        }
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .status-mock { background-color: #ffc107; }
        .status-api { background-color: #28a745; }
        .status-error { background-color: #dc3545; }
        .mode-switch {
            background: #17a2b8;
            color: white;
            padding: 10px 20px;
            border-radius: 6px;
            margin: 20px 0;
            text-align: center;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        .comparison-table th,
        .comparison-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        .comparison-table th {
            background-color: #6F87FF;
            color: white;
        }
        .comparison-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ›’ PetPal è´­ç‰©è½¦APIé›†æˆæµ‹è¯•æŒ‡å—</h1>
        <p>è´­ç‰©è½¦ä»Mockæ•°æ®åˆ°çœŸå®APIçš„å®Œæ•´æµ‹è¯•éªŒè¯</p>
    </div>

    <div class="api-info">
        <h2>ğŸ”§ å½“å‰é…ç½®çŠ¶æ€</h2>
        <p><strong>é…ç½®æ–‡ä»¶ï¼š</strong><code>/src/utils/config.js</code></p>
        <div class="code-block">
// å½“å‰é…ç½®
export const USE_MOCK = false; // âœ… APIæ¨¡å¼ï¼ˆç”Ÿäº§ï¼‰
// export const USE_MOCK = true; // Mockæ¨¡å¼ï¼ˆå¼€å‘æµ‹è¯•ï¼‰
        </div>
        <p><strong>å¼€å‘æœåŠ¡å™¨ï¼š</strong><code>http://localhost:5174/</code></p>
    </div>

    <div class="test-section">
        <h2>ğŸ“‹ æµ‹è¯•å‰å‡†å¤‡</h2>
        <div class="test-case">
            <div class="test-title">
                <span class="status-indicator status-mock"></span>
                1. ç¡®è®¤å¼€å‘ç¯å¢ƒè¿è¡Œ
            </div>
            <div class="test-steps">
                <strong>æ£€æŸ¥é¡¹ç›®çŠ¶æ€ï¼š</strong>
                <ol>
                    <li>å¼€å‘æœåŠ¡å™¨å·²å¯åŠ¨ï¼š<code>npm run dev:h5</code></li>
                    <li>æµè§ˆå™¨è®¿é—®ï¼š<code>http://localhost:5174/</code></li>
                    <li>æ£€æŸ¥æ§åˆ¶å°æ— ç¼–è¯‘é”™è¯¯</li>
                    <li>ç¡®è®¤ç½‘ç»œè¯·æ±‚æ­£å¸¸</li>
                </ol>
            </div>
        </div>

        <div class="test-case">
            <div class="test-title">
                <span class="status-indicator status-api"></span>
                2. åç«¯APIè¿æ¥æ£€æŸ¥
            </div>
            <div class="test-steps">
                <strong>éªŒè¯APIå¯ç”¨æ€§ï¼š</strong>
                <ol>
                    <li>åç«¯æœåŠ¡å™¨çŠ¶æ€ï¼š<code>http://localhost:8080/api</code></li>
                    <li>è´­ç‰©è½¦æ¥å£æµ‹è¯•ï¼š<code>GET /api/cart/list</code></li>
                    <li>ç”¨æˆ·è®¤è¯çŠ¶æ€æ£€æŸ¥</li>
                    <li>ç½‘ç»œè¿æ¥ç¨³å®šæ€§</li>
                </ol>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ§ª Mockæ¨¡å¼æµ‹è¯•ï¼ˆæœ¬åœ°å­˜å‚¨ï¼‰</h2>
        <div class="mode-switch">
            <strong>åˆ‡æ¢åˆ°Mockæ¨¡å¼ï¼š</strong>è®¾ç½® <code>USE_MOCK = true</code>
        </div>

        <div class="test-case">
            <div class="test-title">
                <span class="status-indicator status-mock"></span>
                æµ‹è¯•1ï¼šåŸºç¡€è´­ç‰©è½¦æ“ä½œ
            </div>
            <div class="test-steps">
                <strong>æµ‹è¯•æ­¥éª¤ï¼š</strong>
                <ol>
                    <li>è¿›å…¥å•†å“åˆ—è¡¨é¡µé¢</li>
                    <li>é€‰æ‹©ä»»æ„å•†å“è¿›å…¥è¯¦æƒ…é¡µ</li>
                    <li>é€‰æ‹©è§„æ ¼ï¼ˆå¦‚æœæœ‰ï¼‰å¹¶è°ƒæ•´æ•°é‡</li>
                    <li>ç‚¹å‡»"åŠ å…¥è´­ç‰©è½¦"</li>
                    <li>è¿›å…¥è´­ç‰©è½¦é¡µé¢æŸ¥çœ‹å•†å“</li>
                </ol>
            </div>
            <div class="expected">
                <strong>é¢„æœŸç»“æœï¼š</strong>
                <ul>
                    <li>âœ… å•†å“æˆåŠŸæ·»åŠ åˆ°è´­ç‰©è½¦</li>
                    <li>âœ… è´­ç‰©è½¦æ˜¾ç¤ºæ­£ç¡®çš„å•†å“ä¿¡æ¯</li>
                    <li>âœ… æ•°é‡å’Œè§„æ ¼ä¿¡æ¯æ­£ç¡®</li>
                    <li>âœ… ä»·æ ¼è®¡ç®—å‡†ç¡®</li>
                </ul>
            </div>
        </div>

        <div class="test-case">
            <div class="test-title">
                <span class="status-indicator status-mock"></span>
                æµ‹è¯•2ï¼šè´­ç‰©è½¦æ“ä½œåŠŸèƒ½
            </div>
            <div class="test-steps">
                <strong>æµ‹è¯•æ­¥éª¤ï¼š</strong>
                <ol>
                    <li>åœ¨è´­ç‰©è½¦ä¸­è°ƒæ•´å•†å“æ•°é‡ï¼ˆ+ / -ï¼‰</li>
                    <li>æµ‹è¯•é€‰ä¸­/å–æ¶ˆé€‰ä¸­å•ä¸ªå•†å“</li>
                    <li>æµ‹è¯•å…¨é€‰/å–æ¶ˆå…¨é€‰åŠŸèƒ½</li>
                    <li>æµ‹è¯•åˆ é™¤å•†å“ï¼ˆæ•°é‡å‡åˆ°1æ—¶çš„ç¡®è®¤å¯¹è¯æ¡†ï¼‰</li>
                    <li>æŸ¥çœ‹æ€»ä»·è®¡ç®—æ˜¯å¦æ­£ç¡®</li>
                </ol>
            </div>
            <div class="expected">
                <strong>é¢„æœŸç»“æœï¼š</strong>
                <ul>
                    <li>âœ… æ•°é‡è°ƒæ•´å®æ—¶ç”Ÿæ•ˆ</li>
                    <li>âœ… é€‰ä¸­çŠ¶æ€æ­£ç¡®åˆ‡æ¢</li>
                    <li>âœ… å…¨é€‰åŠŸèƒ½æ­£å¸¸</li>
                    <li>âœ… åˆ é™¤ç¡®è®¤å¯¹è¯æ¡†æ­£å¸¸å¼¹å‡º</li>
                    <li>âœ… æ€»ä»·å®æ—¶æ›´æ–°</li>
                </ul>
            </div>
        </div>

        <div class="test-case">
            <div class="test-title">
                <span class="status-indicator status-mock"></span>
                æµ‹è¯•3ï¼šæ•°æ®æŒä¹…åŒ–
            </div>
            <div class="test-steps">
                <strong>æµ‹è¯•æ­¥éª¤ï¼š</strong>
                <ol>
                    <li>æ·»åŠ å‡ ä¸ªå•†å“åˆ°è´­ç‰©è½¦</li>
                    <li>åˆ·æ–°é¡µé¢ï¼ˆF5ï¼‰</li>
                    <li>é‡æ–°è¿›å…¥è´­ç‰©è½¦é¡µé¢</li>
                    <li>æ£€æŸ¥æ•°æ®æ˜¯å¦ä¿æŒ</li>
                </ol>
            </div>
            <div class="expected">
                <strong>é¢„æœŸç»“æœï¼š</strong>
                <ul>
                    <li>âœ… è´­ç‰©è½¦æ•°æ®åœ¨åˆ·æ–°åä¿æŒ</li>
                    <li>âœ… å•†å“æ•°é‡ã€é€‰ä¸­çŠ¶æ€ä¿æŒ</li>
                    <li>âœ… æœ¬åœ°å­˜å‚¨æ­£å¸¸å·¥ä½œ</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸŒ APIæ¨¡å¼æµ‹è¯•ï¼ˆåç«¯é›†æˆï¼‰</h2>
        <div class="mode-switch">
            <strong>åˆ‡æ¢åˆ°APIæ¨¡å¼ï¼š</strong>è®¾ç½® <code>USE_MOCK = false</code>
        </div>

        <div class="test-case">
            <div class="test-title">
                <span class="status-indicator status-api"></span>
                æµ‹è¯•1ï¼šç”¨æˆ·è®¤è¯æµç¨‹
            </div>
            <div class="test-steps">
                <strong>æµ‹è¯•æ­¥éª¤ï¼š</strong>
                <ol>
                    <li>æœªç™»å½•çŠ¶æ€ä¸‹è¿›å…¥è´­ç‰©è½¦é¡µé¢</li>
                    <li>è§‚å¯Ÿæ˜¯å¦æ˜¾ç¤ºç™»å½•æç¤º</li>
                    <li>è¿›è¡Œç”¨æˆ·ç™»å½•</li>
                    <li>ç™»å½•åé‡æ–°è®¿é—®è´­ç‰©è½¦</li>
                </ol>
            </div>
            <div class="expected">
                <strong>é¢„æœŸç»“æœï¼š</strong>
                <ul>
                    <li>âœ… æœªç™»å½•æ—¶æ˜¾ç¤º"è¯·å…ˆç™»å½•"</li>
                    <li>âœ… è‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢</li>
                    <li>âœ… ç™»å½•åå¯æ­£å¸¸è®¿é—®è´­ç‰©è½¦</li>
                    <li>âœ… è®¤è¯çŠ¶æ€æŒä¹…åŒ–</li>
                </ul>
            </div>
        </div>

        <div class="test-case">
            <div class="test-title">
                <span class="status-indicator status-api"></span>
                æµ‹è¯•2ï¼šAPIæ•°æ®åŒæ­¥
            </div>
            <div class="test-steps">
                <strong>æµ‹è¯•æ­¥éª¤ï¼š</strong>
                <ol>
                    <li>åœ¨å•†å“è¯¦æƒ…é¡µæ·»åŠ å•†å“åˆ°è´­ç‰©è½¦</li>
                    <li>è¿›å…¥è´­ç‰©è½¦é¡µé¢æŸ¥çœ‹æ•°æ®</li>
                    <li>åœ¨è´­ç‰©è½¦ä¸­ä¿®æ”¹æ•°é‡å’Œé€‰ä¸­çŠ¶æ€</li>
                    <li>åˆ·æ–°é¡µé¢æ£€æŸ¥æ•°æ®æ˜¯å¦åŒæ­¥</li>
                    <li>åœ¨ä¸åŒè®¾å¤‡/æµè§ˆå™¨ä¸­ç™»å½•åŒä¸€è´¦å·</li>
                </ol>
            </div>
            <div class="expected">
                <strong>é¢„æœŸç»“æœï¼š</strong>
                <ul>
                    <li>âœ… æ·»åŠ å•†å“åAPIè°ƒç”¨æˆåŠŸ</li>
                    <li>âœ… è´­ç‰©è½¦æ•°æ®æ¥è‡ªåç«¯API</li>
                    <li>âœ… ä¿®æ”¹æ“ä½œå®æ—¶åŒæ­¥åˆ°åç«¯</li>
                    <li>âœ… è·¨è®¾å¤‡æ•°æ®ä¸€è‡´æ€§</li>
                </ul>
            </div>
        </div>

        <div class="test-case">
            <div class="test-title">
                <span class="status-indicator status-error"></span>
                æµ‹è¯•3ï¼šé”™è¯¯å¤„ç†æœºåˆ¶
            </div>
            <div class="test-steps">
                <strong>æµ‹è¯•æ­¥éª¤ï¼š</strong>
                <ol>
                    <li>æ–­å¼€ç½‘ç»œè¿æ¥åæ“ä½œè´­ç‰©è½¦</li>
                    <li>ç™»å½•è¿‡æœŸåè¿›è¡Œè´­ç‰©è½¦æ“ä½œ</li>
                    <li>æœåŠ¡å™¨å“åº”é”™è¯¯æ—¶çš„å¤„ç†</li>
                    <li>ç½‘ç»œæ¢å¤åçš„æ•°æ®åŒæ­¥</li>
                </ol>
            </div>
            <div class="expected">
                <strong>é¢„æœŸç»“æœï¼š</strong>
                <ul>
                    <li>âœ… ç½‘ç»œé”™è¯¯æ—¶æ˜¾ç¤ºå‹å¥½æç¤º</li>
                    <li>âœ… è®¤è¯è¿‡æœŸè‡ªåŠ¨è·³è½¬ç™»å½•</li>
                    <li>âœ… é”™è¯¯çŠ¶æ€ä¸‹ä¸ä¼šå´©æºƒ</li>
                    <li>âœ… ç½‘ç»œæ¢å¤åèƒ½æ­£å¸¸æ“ä½œ</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ“Š APIæ¥å£æµ‹è¯•å¯¹ç…§</h2>
        <table class="comparison-table">
            <thead>
                <tr>
                    <th>åŠŸèƒ½</th>
                    <th>Mockæ¨¡å¼</th>
                    <th>APIæ¨¡å¼</th>
                    <th>æ¥å£</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>è·å–è´­ç‰©è½¦</td>
                    <td>uni.getStorageSync</td>
                    <td>cartApi.getCartList()</td>
                    <td>GET /api/cart/list</td>
                </tr>
                <tr>
                    <td>æ·»åŠ å•†å“</td>
                    <td>cartUtils.addToCart</td>
                    <td>cartApi.addToCart()</td>
                    <td>POST /api/cart/add</td>
                </tr>
                <tr>
                    <td>æ›´æ–°æ•°é‡</td>
                    <td>cartUtils.updateQuantity</td>
                    <td>cartApi.updateCartItem()</td>
                    <td>PUT /api/cart/update</td>
                </tr>
                <tr>
                    <td>é€‰ä¸­çŠ¶æ€</td>
                    <td>cartUtils.updateSelected</td>
                    <td>cartApi.updateCartItemSelected()</td>
                    <td>PUT /api/cart/select</td>
                </tr>
                <tr>
                    <td>å…¨é€‰æ“ä½œ</td>
                    <td>æ‰¹é‡æœ¬åœ°æ›´æ–°</td>
                    <td>cartApi.selectAllCartItems()</td>
                    <td>PUT /api/cart/select-all</td>
                </tr>
                <tr>
                    <td>åˆ é™¤å•†å“</td>
                    <td>cartUtils.removeFromCart</td>
                    <td>cartApi.deleteCartItems()</td>
                    <td>DELETE /api/cart/delete</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="test-section">
        <h2>ğŸ” è°ƒè¯•å·¥å…·</h2>
        <div class="test-case">
            <div class="test-title">æµè§ˆå™¨å¼€å‘è€…å·¥å…·</div>
            <div class="test-steps">
                <strong>ç›‘æ§è¦ç‚¹ï¼š</strong>
                <ol>
                    <li><strong>Console</strong>ï¼šæŸ¥çœ‹è´­ç‰©è½¦æ“ä½œæ—¥å¿—</li>
                    <li><strong>Network</strong>ï¼šç›‘æ§APIè¯·æ±‚å’Œå“åº”</li>
                    <li><strong>Application â†’ Storage</strong>ï¼šæ£€æŸ¥æœ¬åœ°å­˜å‚¨æ•°æ®</li>
                    <li><strong>Application â†’ Cookies</strong>ï¼šæ£€æŸ¥è®¤è¯ä¿¡æ¯</li>
                </ol>
            </div>
        </div>

        <div class="test-case">
            <div class="test-title">å…³é”®æ—¥å¿—æ£€æŸ¥</div>
            <div class="code-block">
// Mockæ¨¡å¼æ—¥å¿—
æœ¬åœ°å­˜å‚¨ä¸­çš„è´­ç‰©è½¦æ•°æ®: {...}
è§£æåçš„è´­ç‰©è½¦æ•°æ®: [...]
è´­ç‰©è½¦æ•°æ®å·²åŠ è½½, æ•°é‡: 2

// APIæ¨¡å¼æ—¥å¿—
åç«¯è´­ç‰©è½¦æ•°æ®: {code: 200, data: [...]}
æ›´æ–°é€‰ä¸­çŠ¶æ€å¤±è´¥: Error...
è·å–è´­ç‰©è½¦æ•°æ®å¤±è´¥: 401 Unauthorized
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>âœ… éªŒæ”¶æ ‡å‡†</h2>
        <div class="expected">
            <h3>Mockæ¨¡å¼å¿…é¡»é€šè¿‡ï¼š</h3>
            <ul>
                <li>âœ… åŸºç¡€CRUDæ“ä½œï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰</li>
                <li>âœ… æ•°æ®æœ¬åœ°æŒä¹…åŒ–</li>
                <li>âœ… UIå“åº”æ­£å¸¸</li>
                <li>âœ… ä»·æ ¼è®¡ç®—æ­£ç¡®</li>
            </ul>
        </div>

        <div class="expected">
            <h3>APIæ¨¡å¼å¿…é¡»é€šè¿‡ï¼š</h3>
            <ul>
                <li>âœ… ç”¨æˆ·è®¤è¯æµç¨‹</li>
                <li>âœ… æ‰€æœ‰APIæ¥å£è°ƒç”¨æˆåŠŸ</li>
                <li>âœ… é”™è¯¯å¤„ç†æœºåˆ¶å®Œå–„</li>
                <li>âœ… è·¨è®¾å¤‡æ•°æ®åŒæ­¥</li>
                <li>âœ… ç½‘ç»œå¼‚å¸¸å¤„ç†</li>
            </ul>
        </div>

        <div class="expected">
            <h3>æ¨¡å¼åˆ‡æ¢å¿…é¡»é€šè¿‡ï¼š</h3>
            <ul>
                <li>âœ… é…ç½®ä¿®æ”¹åæ— éœ€é‡å¯</li>
                <li>âœ… ä¸¤ç§æ¨¡å¼åŠŸèƒ½ä¸€è‡´</li>
                <li>âœ… åˆ‡æ¢è¿‡ç¨‹æ— æ•°æ®ä¸¢å¤±</li>
                <li>âœ… ä»£ç å…¼å®¹æ€§è‰¯å¥½</li>
            </ul>
        </div>
    </div>

    <div class="api-info">
        <h2>ğŸš€ éƒ¨ç½²å»ºè®®</h2>
        <p><strong>å¼€å‘ç¯å¢ƒï¼š</strong>ä½¿ç”¨Mockæ¨¡å¼ï¼ˆ<code>USE_MOCK = true</code>ï¼‰ä¾¿äºè°ƒè¯•</p>
        <p><strong>æµ‹è¯•ç¯å¢ƒï¼š</strong>ä½¿ç”¨APIæ¨¡å¼éªŒè¯æ¥å£é›†æˆ</p>
        <p><strong>ç”Ÿäº§ç¯å¢ƒï¼š</strong>ç¡®ä¿APIæ¨¡å¼ï¼ˆ<code>USE_MOCK = false</code>ï¼‰ç¨³å®šè¿è¡Œ</p>
        <div class="code-block">
// éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•
âœ… åç«¯APIæœåŠ¡æ­£å¸¸è¿è¡Œ
âœ… ç”¨æˆ·è®¤è¯ç³»ç»Ÿé…ç½®æ­£ç¡®  
âœ… æ•°æ®åº“è¿æ¥ç¨³å®š
âœ… é”™è¯¯å¤„ç†æœºåˆ¶å®Œå–„
âœ… å‰ç«¯é…ç½®åˆ‡æ¢åˆ°APIæ¨¡å¼
        </div>
    </div>
</body>
</html>
